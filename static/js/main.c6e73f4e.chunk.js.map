{"version":3,"sources":["components/Header.js","components/Spot.js","components/Spots.js","components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["cities","臺北市","新北市","桃園市","臺中市","臺南市","高雄市","基隆市","新竹市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","嘉義市","屏東縣","宜蘭縣","花蓮縣","臺東縣","金門縣","澎湖縣","連江縣","Header","title","className","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","aria-current","to","role","aria-labelledby","Object","keys","map","city","index","Spot","spot","Picture","PictureUrl1","src","alt","PictureDescription1","Name","Description","ID","Spots","spots","useState","spotList","setSpotList","skip","setSkip","countinu","setCountinue","params","useParams","urlPath","length","urlQuerySkip","useEffect","a","fetchFirstData","data","fetch","process","res","json","fetchData","init","dataLength","next","hasMore","loader","endMessage","style","textAlign","refreshFunction","pullDownToRefresh","pullDownToRefreshThreshold","pullDownToRefreshContent","releaseToRefreshContent","class","Footer","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6e73f4e.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst cities = {\n  臺北市: \"Taipei\",\n  新北市: \"NewTaipei\",\n  桃園市: \"Taoyuan\",\n  臺中市: \"Taichung\",\n  臺南市: \"Tainan\",\n  高雄市: \"Kaohsiung\",\n  基隆市: \"Keelung\",\n  新竹市: \"Hsinchu\",\n  新竹縣: \"HsinchuCounty\",\n  苗栗縣: \"MiaoliCounty\",\n  彰化縣: \"ChanghuaCounty\",\n  南投縣: \"NantouCounty\",\n  雲林縣: \"YunlinCounty\",\n  嘉義縣: \"ChiayiCounty\",\n  嘉義市: \"Chiayi\",\n  屏東縣: \"PingtungCounty\",\n  宜蘭縣: \"YilanCounty\",\n  花蓮縣: \"HualienCounty\",\n  臺東縣: \"TaitungCounty\",\n  金門縣: \"KinmenCounty\",\n  澎湖縣: \"PenghuCounty\",\n  連江縣: \"LienchiangCounty\",\n}\n\nconst Header = ({ title }) => {\n  return (\n    <header className=\"header\">\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n        <div className=\"container-fluid\">\n          <button\n            className=\"navbar-toggler\"\n            type=\"button\"\n            data-bs-toggle=\"collapse\"\n            data-bs-target=\"#navbarSupportedContent\"\n            aria-controls=\"navbarSupportedContent\"\n            aria-expanded=\"false\"\n            aria-label=\"Toggle navigation\"\n          >\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n              <li className=\"nav-item\">\n                <Link className=\"nav-link active\" aria-current=\"page\" to=\"/\">\n                  Home\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <Link className=\"nav-link\" to=\"/scenicSpot\">\n                  全部景點\n                </Link>\n              </li>\n              <li className=\"nav-item dropdown\">\n                <Link\n                  className=\"nav-link dropdown-toggle\"\n                  to=\"/scenicSpot\"\n                  id=\"navbarDropdown\"\n                  role=\"button\"\n                  data-bs-toggle=\"dropdown\"\n                  aria-expanded=\"false\"\n                >\n                  縣市景點\n                </Link>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                  {Object.keys(cities).map((city, index) => {\n                    return (\n                      <div key={index}>\n                        <li>\n                          <Link className=\"dropdown-item\" to={`/scenicSpot/${cities[city]}`}>{city}</Link>\n                        </li>\n                      </div>\n                    )\n                  })}\n                </ul>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import '../spot.css'\n\nconst Spot = ({ spot }) => {\n  return (\n    <div key={spot.ID}>\n      <div className=\"card\">\n        {\n          spot.Picture.PictureUrl1 ?\n            <img\n              src={spot.Picture.PictureUrl1}\n              className=\"card-img-top\"\n              alt={spot.Picture.PictureDescription1}\n            /> : \n            <img\n              src=\"https://sa.rosheta.com/upload/911c2f08594657f1f8978c344470af3c9435f9ea5eca681a349a2e2ab0a23494.png\"\n              className=\"card-img-top\"\n              alt={spot.Picture.PictureDescription1}\n            />\n        }\n        <div className=\"card-body\">\n          <h5 className=\"card-title\">{spot.Name}</h5>\n          {\n            spot.Description ?\n              <p className=\"card-text\">{spot.Description}</p> :\n              <h6 className=\"card-text\">No Description</h6>\n          }\n          {/* <a href=\"#\" className=\"btn btn-primary\">Go somewhere</a> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spot;\n","import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Spot from \"./Spot\";\nimport \"../spots.css\";\n\nconst Spots = ({ spots }) => {\n  const [spotList, setSpotList] = useState([]);\n  const [skip, setSkip] = useState(30);\n  const [countinu, setCountinue] = useState(true);\n  const params = useParams();\n\n  const urlPath =\n    \"/v2/Tourism/ScenicSpot\" +\n    (Object.keys(params).length !== 0 ? \"/\" + params.city : \"\");\n  const urlQuery = \"?$top=30&$format=JSON\";\n  const urlQuerySkip = `?$top=30&$skip=${skip}&$format=JSON`;\n\n  useEffect(async () => {\n    const data = await fetchFirstData();\n    setSpotList(data);\n  }, [params]);\n\n  const fetchFirstData = async () => {\n    const res = await fetch(\n      process.env.REACT_APP_API_PATH + urlPath + urlQuery\n    );\n    const data = await res.json();\n    return data;\n  };\n\n  const fetchData = async () => {\n    const res = await fetch(\n      process.env.REACT_APP_API_PATH + urlPath + urlQuerySkip\n    );\n    const data = await res.json();\n    setSpotList([...spotList, ...data]);\n    setSkip(skip + 30);\n  };\n\n  const init = async () => {\n    setSpotList([]);\n    setSkip(0);\n    setCountinue(true);\n    const data = await fetchFirstData();\n    setSpotList(data);\n  };\n\n  return (\n    <>\n      <InfiniteScroll\n        dataLength={spotList.length} //This is important field to render the next data\n        next={fetchData}\n        hasMore={countinu}\n        loader={<h4>Loading...</h4>}\n        endMessage={\n          <p style={{ textAlign: \"center\" }}>\n            <b>Yay! You have seen it all</b>\n          </p>\n        }\n        // below props only if you need pull down functionality\n        refreshFunction={init}\n        pullDownToRefresh\n        pullDownToRefreshThreshold={50}\n        pullDownToRefreshContent={\n          <h3 style={{ textAlign: \"center\" }}>&#8595; Pull down to refresh</h3>\n        }\n        releaseToRefreshContent={\n          <h3 style={{ textAlign: \"center\" }}>&#8593; Release to refresh</h3>\n        }\n      >\n        <div class=\"spots\">\n          {spotList.map((spot) => (\n            <div key={spot.ID} className=\"spot\">\n              <Spot spot={spot} />\n            </div>\n          ))}\n        </div>\n      </InfiniteScroll>\n    </>\n  );\n};\n\nexport default Spots;\n","const Footer = () => {\n  return (\n    <footer>\n      <p>Copyright &copy; 2021</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Spots from \"./components/Spots\";\nimport Footer from \"./components/Footer\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header title=\"Scenic Spot\" />\n      <Switch>\n        <div className=\"container\">\n          <Route exact path=\"/Dcard-2021-Web-Frontend-Intern-Homework/scenicSpot\">\n            <Spots />\n          </Route>\n          <Route exact path=\"/Dcard-2021-Web-Frontend-Intern-Homework/scenicSpot/:city\">\n            <Spots />\n          </Route>\n          <Route>\n            <Redirect to=\"/Dcard-2021-Web-Frontend-Intern-Homework/scenicSpot\" />\n          </Route>\n        </div>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}